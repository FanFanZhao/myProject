<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		.box{
			width: 100px;
			height: 100px;
			background-color: pink;
			position: absolute;
			margin-left: 25px;
		}
		.box2{
			margin-top: 150px;
		}
		.btn{
			padding: 10px 20px;
			margin: 10px;
		}
	</style>
</head>
<body>
	<input type="button" value="开始" class="btn1">
	<input type="button" value="返回" class="btn2">
	<div class="box">aaa</div>
	<div class="box box2">bbb</div>
	<script>
		var box=document.querySelector('.box');
		var box2=document.querySelector('.box2');
		var btn1=document.querySelector('.btn1');
		var btn2=document.querySelector('.btn2');
		btn1.onclick=function(){

			animate(box,600);
			animate(box2,500);
		}
		btn2.onclick=function(){

			animate(box,300);
			animate(box2,200);
		}
		// function animate(element,target){
				
		// 	if (element.timerId) {
		// 		clearInterval(element.timerId);
		// 	}
		// 	element.timerId=setInterval(function(){			
		// 		var current=element.offsetLeft;
		// 		var step=10;
		// 		if (current>=target) {
		// 			step=-Math.abs(step);
		// 		}
		// 		if (Math.abs(current-target)<=Math.abs(step)) {
		// 			current=target;
		// 			element.style.left=current+'px';
		// 			clearInterval(element.timerId);
		// 			return;
		// 		}
		// 		current+=step;
		// 		element.style.left=current +'px';
		// 	},30);
		// }
		function animate(element,target){
			if (element.id) {
				clearInterval(element.id);
			}
			var step=5;
			element.mgL=element.offsetLeft;
			console.log(element.mgL);
			element.id=setInterval(function(){
				current=element.offsetLeft-element.mgL;
				console.log(current);
				if (current>=target) {
					step=-Math.abs(step);
				}
				if (Math.abs(current-target)<=Math.abs(step)) {
					current=target;
					element.style.left=current+'px';

					clearInterval(element.id);
					return ;
				}
				current=current+step;
				// console.log(current);

				element.style.left=current+'px';
			},30)
		}
	</script>
</body>
</html>